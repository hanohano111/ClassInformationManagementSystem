# 第三章 系统需求分析

需求分析是软件开发过程中的关键阶段，其核心任务是明确系统必须具备的功能和满足的性能、安全等非功能性约束。本章旨在通过对“班级信息管理小程序”的业务场景、用户角色和预期目标进行系统性地调研与剖析，确立一套完整、清晰、无歧义的需求规格说明。这份说明将作为后续系统设计、编码实现及测试验收的核心依据。

## 3.1 系统用户定义

系统内的用户角色是动态的，具体取决于其在特定班级中的身份。一个用户可以是某个班级的管理员，同时是另一个班级的普通成员。

-   **班级管理员**：任何用户通过“创建班级”功能即可成为该班级的初始管理员。管理员负责班级的全面管理，拥有最高权限。
-   **普通用户**：用户通过邀请码加入一个非自己创建的班级后，即成为该班级的普通用户，参与班级内的各项活动。

## 3.2 用户功能

普通用户（在非自己管理的班级中）拥有以下核心功能：

### 3.2.1 班级操作
-   **加入班级**：通过班级管理员分享的唯一邀请码，申请加入一个班级。
-   **退出班级**：可以主动从已加入的班级中退出。
-   **查看班级信息**：浏览班级名称、公告、成员列表等基本信息。

### 3.2.2 信息与任务
-   **接收与查看通知**：实时接收管理员发布的班级通知，并查看通知详情。
-   **接收与查看作业**：接收管理员发布的作业任务，查看作业要求、附件和截止日期。
-   **提交作业**：在线提交作业，支持文本、图片、文件等多种格式。在截止日期前可对已提交的作业进行修改。
-   **查看作业批改**：查看管理员对所提交作业的评分和评语。

### 3.2.3 互动与流程
-   **发起请假**：在线填写请假申请，包括请假事由、时间，并可上传证明材料。
-   **查看请假审批**：实时接收请假申请的审批结果（同意或拒绝）。
-   **参与签到**：响应管理员发起的签到任务，可通过定位或动态码完成签到。
-   **班级群聊**：在班级内置的聊天室中收发消息，与师生进行即时沟通。

### 3.2.4 个人管理
-   **管理个人资料**：修改自己的头像、昵称等公开信息。
-   **查看个人数据**：查看自己在班级内的作业提交记录、请假历史和签到情况。

## 3.3 班级管理员功能

班级管理员拥有普通用户的全部功能，并在此基础上增加了对班级进行全面管理的权限。

### 3.3.1 班级创建与基础管理
-   **创建班级**：创建新的班级，设定班级名称、学期等信息，系统自动生成唯一的邀请码用于邀请成员。
-   **修改班级信息**：可以随时修改班级的名称、公告等基本信息。
-   **解散班级**：在必要时可以解散班级，此操作会清空所有班级数据。

### 3.3.2 成员管理
-   **审批加入申请**：审核并处理其他用户通过邀请码提交的入班申请。
-   **移除成员**：可以将任意成员移出班级。
-   **设置/取消管理员**：可以将班级内的普通用户提升为管理员，或将其他管理员降级为普通用户，实现共同管理。

### 3.3.3 内容发布与管理
-   **发布与管理通知**：发布、编辑或删除班级通知，并可查看成员的阅读情况。
-   **发布与管理作业**：创建、编辑或删除作业任务，设定截止日期，并可查看所有成员的提交状态。
-   **批改作业**：在线批改所有成员提交的作业，给出评分和评语。

### 3.3.4 流程控制与监督
-   **审批请假申请**：审核班级成员提交的请假申请，并决定同意或拒绝。
-   **发起与管理签到**：创建签到任务（支持定位或动态码），设定有效时间，并可实时查看签到统计结果（如已签到、迟到、未签到列表）。
-   **管理签到记录**：可手动为特殊情况的学生修改签到状态（如补签）。

### 3.3.5 数据统计与分析
-   **查看数据看板**：访问数据统计页面，通过图表直观了解班级成员构成、作业提交率、整体出勤率等关键指标，为班级管理提供数据支持。

## 3.4 核心功能模块

根据角色与权限分析，系统可划分为以下核心功能模块：

1.  **用户与身份认证模块**
    - **微信授权登录**：系统利用微信开放能力，实现用户一键授权登录，简化注册流程并确保身份的唯一性。
    - **身份绑定**：用户首次登录后，需绑定真实身份信息。学生需绑定学号与手机号，教师需绑定工号与手机号，系统将对信息的唯一性进行校验，并将敏感字段加密处理。
    - **个人资料管理**：用户可自主修改头像、昵称等基本信息，但学号、工号等关键身份标识一经绑定则不可更改，以保证身份的稳定性。

2.  **班级管理模块**
    - **班级创建与维护**：教师用户可以创建新的班级，设定班级名称、所属学期等基本信息，系统将自动生成唯一的班级邀请码。教师还可对已创建的班级进行信息修改或解散。
    - **成员加入与退出**：学生可通过教师分享的班级邀请码申请加入班级。教师可管理成员列表，包括同意加入申请、移除成员等。学生也可主动申请退出班级。

3.  **通知与作业模块**
    - **信息发布**：教师可发布格式丰富的通知和作业，包括文本、图片及附件，并可设定作业的截止日期。
    - **信息接收与反馈**：学生可实时接收通知和作业提醒，在线查阅详情，并按要求提交作业。系统支持文本、图片、文件等多种格式的作业提交。
    - **批改与查阅**：教师可在线批改学生提交的作业，给出评分和评语。学生可以查看自己的成绩和教师反馈，形成教学闭环。

4.  **请假与签到模块**
    - **请假流程管理**：学生可在线提交请假申请，填写事由、时间并上传证明材料。教师可在线审批，审批结果将通过系统消息实时通知学生。
    - **多样化签到**：教师可根据教学场景发起签到，支持基于地理位置（LBS）的定位签到和基于动态码（二维码/数字码）的签到两种模式，以防止代签现象。
    - **考勤记录与统计**：系统自动记录学生的签到状态，教师可随时查看班级的整体出勤率、迟到及缺勤情况。

5.  **即时通讯模块**
    - **班级群聊**：系统为每个班级提供一个内置的即时通讯群组，方便师生进行日常沟通和问题讨论。
    - **系统消息中心**：聚合所有系统级消息，如通知提醒、作业提交状态、请假审批结果等，方便用户集中管理和查阅。

6.  **数据统计与分析模块**
    - **数据可视化**：为教师提供数据看板，以图表形式直观展示班级成员构成、作业完成率、考勤统计等关键指标，辅助教学管理决策。

## 3.5 非功能需求分析

非功能需求（Non-functional Requirements）是衡量系统质量的标准，涉及性能、安全性、可用性等方面。

- **性能需求**：为保证用户体验，系统核心页面的加载时间应不多于3秒，常规接口响应时间应在2秒以内。系统需支持至少100人在线，并能承载50人以上的并发请求。对于数据量较大的列表，需采用分页加载机制。
- **安全性需求**：
    - **数据传输安全**：客户端与服务器之间的所有数据交互均采用HTTPS或微信小程序提供的加密信道，确保数据在传输过程中的机密性。
    - **数据存储安全**：对用户的敏感信息，如学号、手机号、密码、请假事由、作业内容等，必须采用强加密算法（如AES-256）进行加密存储。
    - **访问控制**：严格遵循基于角色的访问控制（RBAC）模型，确保用户只能访问其权限范围内的数据和功能。所有敏感操作均需在验证用户登录状态和权限后方可执行。
- **可用性与可靠性需求**：系统应具备简洁直观的用户界面和清晰的操作指引。核心功能的完成路径不应超过3步。系统核心服务可用性需达到99%以上，关键数据不允许丢失，并具备必要的备份与恢复机制。
- **兼容性需求**：系统需兼容当前主流的iOS和Android操作系统版本的微信客户端，并能良好适配市面上常见的手机屏幕尺寸。
- **可维护性需求**：代码编写需遵循统一的编程规范（如ESLint、Prettier），模块设计应遵循高内聚、低耦合的原则。提供清晰的部署文档和配置说明，便于后续的系统维护与功能迭代。

## 3.6 数据需求分析

- **数据实体**：系统核心数据实体包括：用户信息、班级信息、成员关系、通知、作业、提交记录、成绩、请假申请、签到任务、签到记录、消息等。
- **数据持久化**：所有业务数据均持久化存储于微信云数据库中。对于图片、文件等非结构化数据，则存放在云存储中。
- **数据安全性**：明确划分敏感数据与非敏感数据。所有敏感数据在存储和展示时必须进行加密或脱敏处理。
- **数据备份与恢复**：应制定定期的数据备份策略，以防因意外情况导致数据丢失，并确保在必要时能够快速恢复。

## 3.7 约束与假设

- **技术平台约束**：本系统被设计为在微信小程序环境下运行，后端服务强依赖于微信云开发平台（包括云函数、云数据库、云存储）。
- **开发环境约束**：开发者需使用微信开发者工具进行开发和调试，并正确配置小程序的AppID及云开发环境ID。
- **法律合规约束**：系统的设计与开发必须严格遵守《中华人民共和国网络安全法》、《数据安全法》和《个人信息保护法》等相关法律法规，尤其是在用户隐私数据的收集、使用和保护方面。

## 3.8 本章小结

本章通过对班级信息管理小程序的深入分析，系统地阐述了其功能性与非功能性需求。在功能上，系统以用户和班级管理为核心，涵盖了通知、作业、请假、签到等多个核心教学互动场景。在非功能上，重点强调了系统在性能、安全、可用性等方面的要求。这些需求共同构成了系统设计的蓝图和后续开发的基石。
